var Projects = require('../models/Projects'),
  Users = require('../models/Users');

module.exports =
{
  getProject: getProject
};

/**
 * List projects that the user has access to.
 * @param req
 * @param res
 */
function getProject(req, res)
{
  Users.findOne({uid: req.user.uid}, {groups: 1}, function(err, user)
  {
    Projects.findOne({groups: {$in: user.groups}}, {}, function(err, project)
    {
      res.send(project);
    });
  });
}
